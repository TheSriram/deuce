[tox]
envlist = py27,py33,py34,pypy,pep8

[testenv] 
deps = -r{toxinidir}/tools/pip-requires
       -r{toxinidir}/tools/test-requires
commands = nosetests {posargs}

[testenv:py27]
deps = -r{toxinidir}/tools/pip-requires
       -r{toxinidir}/tools/test-requires

commands = nosetests --ignore-files=event_loop --ignore-files=swiftstoragedriver --ignore-files=3k --exclude-dir=../deuce/drivers/swift3k {posargs}

[testenv:py33]
deps = -r{toxinidir}/tools/pip3k-requires
       -r{toxinidir}/tools/test-requires
commands = nosetests --ignore-files=2k --exclude-dir=../deuce/drivers/swift2k {posargs}

[testenv:py34]
deps = -r{toxinidir}/tools/pip3k-requires
       -r{toxinidir}/tools/test-requires
commands = nosetests --ignore-files=2k --exclude-dir=../deuce/drivers/swift2k {posargs}

[testenv:pep8]
deps = setuptools>=1.1.6
       pep8

#NOTE: E128 = Visual indent
commands = pep8 --exclude=.tox,dist,doc,.env,build --ignore=E128
